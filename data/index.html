<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://api.map.baidu.com/getscript?v=2.0&ak=E4805d16520de693a3fe707cdc962045&services=&t=20190123111209"></script>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
        }

        html,
        body {
            height: 100%;
        }

        #allmap {
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="allmap"></div>
    <script>
        var map;
        var points = [
            [113.64270312625403, 34.754782390344936],
            [113.64205672254865, 34.75994581523526],
            [113.64124925312954, 34.760105020058056],
            [113.64074165567582, 34.76012562506347],
            [113.64030697712245, 34.76019794929274],
            [113.63906815196628, 34.76017837877635],
            [113.63803814717748, 34.760302252542665],
            [113.63717178856899, 34.76039437310522],
            [113.6366741475204, 34.760453165301755],
            [113.63589517665011, 34.760518781806255],
            [113.63517215846908, 34.76054912642343],
            [113.63477143541814, 34.76051906441151],
            [113.63435155448641, 34.76056062573206],
            [113.63429859696585, 34.76063120580658],
            [113.63426459938742, 34.76112892881497],
            [113.63462778451822, 34.761292401367676],
            [113.63481057985567, 34.76190210357642],
            [113.63505398024742, 34.76261018454885],
            [113.63520606076011, 34.76317768867395],
            [113.6352162120485, 34.7636091281602],
            [113.63525669096211, 34.7639028278924],
            [113.63566454608248, 34.7650276668215],
            [113.63579630727537, 34.76532598405811],
            [113.63593576749567, 34.765896263579116],
            [113.63617726787619, 34.76640249722535],
            [113.63609705490214, 34.766650836680036],
            [113.63623960432436, 34.76697877927948],
            [113.63630928501884, 34.76745757909008],
            [113.63655792496677, 34.76829393230533],
            [113.63667781990327, 34.76864352346638],
            [113.63695409362552, 34.76962102099011],
            [113.63728572678248, 34.770467768751594],
            [113.637739204573, 34.77138315048395],
            [113.63776269555214, 34.77158212543448],
            [113.63780728565456, 34.77217754447617],
            [113.63807220211172, 34.77220819613829],
            [113.63824690189188, 34.7722520714346],
            [113.6383617301436, 34.7722656507217],
            [113.63871927051741, 34.77226588321424],
            [113.64024683720507, 34.77214550637214],
            [113.6407888175047, 34.77200501797082],
            [113.6417430816133, 34.77198890845987],
            [113.64250439725035, 34.771916491386705],
            [113.64275358709794, 34.77190642117043],
            [113.64342398148469, 34.77185846770704],
            [113.64416738816084, 34.77194417780762],
            [113.64526682089353, 34.77224896260859],
            [113.6454993323225, 34.772379283359676],
            [113.64620447832765, 34.77271555239702],
            [113.64648164924452, 34.772883529072544],
            [113.64677138985911, 34.77296326146158],
            [113.64729289116607, 34.77330460722035],
            [113.64816956917153, 34.77376247902744],
            [113.6478581110858, 34.77406716136154],
            [113.64757389692487, 34.774334326535474],
            [113.64704248123256, 34.77490539128113],
            [113.64633541555654, 34.775724370187554],
            [113.64618083368839, 34.7758894627116],
            [113.6466682178005, 34.77619696578407],
            [113.6472535286566, 34.77655293169628],
            [113.6485230282131, 34.777119236757486],
            [113.64880768657183, 34.77736163920976],
            [113.65005978002374, 34.77783886400459],
            [113.65103589880906, 34.77837714130825],
            [113.65244700916925, 34.778746967457714],
            [113.65361643914123, 34.77917470516839],
            [113.65422397617444, 34.77934153322937],
            [113.6551148578762, 34.77971707843484],
            [113.65653977426653, 34.78032450192241],
            [113.65679203159797, 34.780449633508915],
            [113.65707792209272, 34.7805541370762],
            [113.65820211648978, 34.78065043930009],
            [113.65840237451533, 34.78069337424795],
            [113.65941479908693, 34.78057982265894],
            [113.66067728596471, 34.780595479359285],
            [113.6618897096456, 34.78054651348582],
            [113.66191604683034, 34.7806202776021],
            [113.66206884485125, 34.780657188692125],
            [113.6633671431564, 34.78067621948459],
            [113.66464300182865, 34.78058775925149],
            [113.66561960809643, 34.78050428923926],
            [113.66638911100877, 34.78063324129325],
            [113.66754730850681, 34.78082160161636],
            [113.66572839750518, 34.78063638539312],
            [113.66493562762376, 34.780594639003056],
            [113.66478766949217, 34.78061049926336],
            [113.66473068510976, 34.78062744528522],
            [113.66473067686846, 34.780802442859496],
            [113.66473267101591, 34.78091444319219],
            [113.66472758081784, 34.78285441150002],
            [113.66475955160539, 34.78327643578477],
            [113.66497245324547, 34.78405662567653],
            [113.66495441900793, 34.784885597101535],
            [113.6648044120665, 34.785937440932614],
            [113.66481439696366, 34.78619344675987],
            [113.6647043942359, 34.78691333290666],
            [113.66466636169312, 34.787821284259074],
            [113.66472830932044, 34.78854033255281],
            [113.66478924783715, 34.78945337712608],
            [113.66489120366704, 34.78976046892553],
            [113.66477623655466, 34.78976536044013],
            [113.66495818364629, 34.789775531865956],
            [113.66493319301506, 34.78973050894115],
            [113.66565637039639, 34.789690550197825],
            [113.66752344575016, 34.78978794500764],
            [113.66766840528669, 34.789765081388694],
            [113.66892504418212, 34.78979025907183],
            [113.67029565312373, 34.789778541185136],
            [113.67175123226335, 34.789902897468],
            [113.67297289320544, 34.7897310369955],
            [113.67322981377359, 34.78986527391486],
            [113.67419991719466, 34.78991466798095],
            [113.67502517391658, 34.78968550528149],
            [113.6760096569055, 34.78993012600488],
            [113.6770478129321, 34.78993503772418],
            [113.67840864854904, 34.79021843511369],
            [113.67892002477527, 34.79014539247709],
            [113.67949036562138, 34.790137689620906],
            [113.68067544801521, 34.79015251869919],
            [113.68163270686318, 34.78998418622594],
            [113.6829535993457, 34.79002621426072],
            [113.68392037338748, 34.78971237681812],
            [113.68435838906392, 34.78966494088132],
            [113.68557178041004, 34.78976381630666],
            [113.68687044578976, 34.79017207709283],
            [113.6882067230072, 34.78985582185748],
            [113.68881007060867, 34.789921675098995],
            [113.68884808156338, 34.789836178786324],
            [113.69032725656496, 34.789865751092385],
            [113.69116796016384, 34.789906759981776],
            [113.69162907719102, 34.789875746102204],
            [113.69166434624785, 34.789911925186466],
            [113.69243731879482, 34.79003333483646],
            [113.69360205262221, 34.789857795785885],
            [113.69391803274426, 34.7898932093853],
            [113.69516366169297, 34.789860882875615],
            [113.69619307476279, 34.78998151465399],
            [113.69734124536991, 34.789937872901895],
            [113.69892731075016, 34.789829883406526],
            [113.69892048871068, 34.789817753287096],
            [113.69921530955611, 34.789721990442565],
            [113.7002595632443, 34.78979297511278],
            [113.70145953019745, 34.78987908979529],
            [113.70278454812399, 34.79001478997085],
            [113.7039668606425, 34.78985179620928],
            [113.70409012713449, 34.789090759376954],
            [113.70401859692305, 34.788599374730666],
            [113.70406677347576, 34.788069754833536],
            [113.70419340769274, 34.787256859345455],
            [113.70424648193965, 34.786531796823574],
            [113.70406054325377, 34.78592759135005],
            [113.70396167124841, 34.785624779444376],
            [113.70407054164177, 34.78525488042078],
            [113.70414297938117, 34.784426386017486],
            [113.70405189435137, 34.78355808762287],
            [113.70401246860796, 34.78326957716738],
            [113.70407688704152, 34.78315094054163],
            [113.70436018399205, 34.78316947966396],
            [113.70475311955632, 34.78321608974602],
            [113.70486554415551, 34.783230463795626],
        ];

        var newpoints = [
            [113.64875951515481, 34.753621509823596],
            [113.64811286553157, 34.75878917711825],
            [113.64730445075568, 34.758947419200176],
            [113.64679626141287, 34.75896734870905],
            [113.64636108835258, 34.759039154927436],
            [113.6451208645414, 34.75901791176858],
            [113.6440897508673, 34.759140569000515],
            [113.64322248662509, 34.75923167862275],
            [113.64272433789468, 34.75928990625612],
            [113.6419445872842, 34.759354627821594],
            [113.6412208617778, 34.75938412803267],
            [113.64081975004011, 34.75935355816187],
            [113.64039947581507, 34.75939466593052],
            [113.64034647596732, 34.759465254602276],
            [113.64031249844119, 34.75996343616206],
            [113.64067604300364, 34.760127499398855],
            [113.64085907609352, 34.76073802894081],
            [113.6411027841615, 34.76144710964478],
            [113.64125507106756, 34.762015365084814],
            [113.64126527720596, 34.762447249698944],
            [113.6413058260904, 34.76274129285235],
            [113.64171419825645, 34.76386775416731],
            [113.64184612099385, 34.76416653146676],
            [113.64198577943286, 34.76473755456635],
            [113.6422275745247, 34.7652445935772],
            [113.64214730687439, 34.76549308437755],
            [113.642290033869, 34.76582153234527],
            [113.64235983485457, 34.766300900165426],
            [113.6426088144776, 34.76713840374708],
            [113.64272886839488, 34.76748849637553],
            [113.64300552834446, 34.768467324979135],
            [113.6433375946158, 34.769315344857034],
            [113.64379164560789, 34.770232227422085],
            [113.64381518229132, 34.770431433477206],
            [113.64385988192393, 34.77102751149126],
            [113.64412508457855, 34.771058534124734],
            [113.64429997688818, 34.771102679129605],
            [113.64441493066673, 34.77111642075399],
            [113.64477286039582, 34.77111711867929],
            [113.64630212647957, 34.770998649457596],
            [113.64684471808938, 34.770858755022054],
            [113.64780010576347, 34.77084394504996],
            [113.64856233230428, 34.770772522433134],
            [113.64881182566114, 34.77076279489849],
            [113.64948304389188, 34.77071575046447],
            [113.65022739459616, 34.770802622804034],
            [113.65132827213624, 34.77110933251656],
            [113.6515611005101, 34.771240130884145],
            [113.65226721101425, 34.771577797032315],
            [113.65254476863247, 34.77174636245259],
            [113.65283490575797, 34.771826615290315],
            [113.65335714725524, 34.77216910311538],
            [113.65423507407601, 34.77262879205386],
            [113.65392321881707, 34.772933300016696],
            [113.65363864334805, 34.77320029710043],
            [113.65310656542138, 34.77377112531024],
            [113.65239863681376, 34.774589860378384],
            [113.65224386668132, 34.77475488712176],
            [113.65273193318677, 34.775063439549626],
            [113.65331807085607, 34.775420659791735],
            [113.6545893740725, 34.775989504490816],
            [113.65487445478718, 34.77623259875713],
            [113.6561283691148, 34.7767122900154],
            [113.65710595196089, 34.777252682921926],
            [113.65851917636002, 34.77762518778657],
            [113.65969040548805, 34.778055299074616],
            [113.66029888325039, 34.77822331434725],
            [113.66119117223568, 34.7786007461366],
            [113.662618373653, 34.779211223735466],
            [113.66287104147833, 34.77933691759931],
            [113.66315739474433, 34.77944202171696],
            [113.66428339049901, 34.779540378000156],
            [113.66448397448414, 34.779583707217384],
            [113.66549802288642, 34.77947182158205],
            [113.66676257473881, 34.779489736993476],
            [113.66797699783582, 34.77944289581127],
            [113.66800338653688, 34.779516782503585],
            [113.66815644262896, 34.77955400666209],
            [113.66945691572808, 34.779575409219305],
            [113.67073492144783, 34.77948918988163],
            [113.67171318241594, 34.77940743101157],
            [113.67248401679969, 34.77953793637698],
            [113.6736442287453, 34.77972863916265],
            [113.67182217163591, 34.779539862379515],
            [113.67102804527147, 34.77949661378813],
            [113.67087983723137, 34.77951221849344],
            [113.67082275780349, 34.779529077190865],
            [113.67082276790738, 34.77970425299245],
            [113.6708247771927, 34.77981637107502],
            [113.67081988188056, 34.78175830788524],
            [113.67085195126529, 34.78218082152079],
            [113.67106529678755, 34.78296219897374],
            [113.6710473188486, 34.78379198420452],
            [113.6708971671774, 34.78484462800283],
            [113.67090719591063, 34.78510091405397],
            [113.67079708180108, 34.78582133504358],
            [113.67075907993971, 34.786730146428475],
            [113.67082120824578, 34.78745004520676],
            [113.67088234613334, 34.788364137855844],
            [113.67098450754204, 34.788671731906724],
            [113.67086934547851, 34.788676417350246],
            [113.67105160304956, 34.78868693334768],
            [113.67102656517274, 34.788641818314126],
            [113.67175097162182, 34.78860314984953],
            [113.67362126614789, 34.78870410494841],
            [113.67376647380492, 34.78868148783476],
            [113.67502529450496, 34.78870903875041],
            [113.67639829259478, 34.78869988235838],
            [113.67785643622219, 34.78882711219936],
            [113.67908022860293, 34.78865738856548],
            [113.67933761609805, 34.788792250531706],
            [113.6803094364225, 34.78884353757308],
            [113.68113612709571, 34.788615709359505],
            [113.6821223767056, 34.78886245577644],
            [113.68316236989321, 34.78886935128624],
            [113.68452564239733, 34.78915563471929],
            [113.68503791489046, 34.78908349238944],
            [113.68560926250227, 34.78907686919035],
            [113.68679643724882, 34.78909397209852],
            [113.68775536357887, 34.788927289386926],
            [113.68907857887187, 34.788971871247924],
            [113.69004701043072, 34.788659545402645],
            [113.69048578505384, 34.78861289023538],
            [113.6917012957569, 34.78871415982251],
            [113.6930022478736, 34.78912528404166],
            [113.69434078380193, 34.78881120769762],
            [113.69494516713726, 34.78887825443114],
            [113.69498323375318, 34.78879274122472],
            [113.69646491570948, 34.788825090734605],
            [113.697307034618, 34.78886769395457],
            [113.69776891830551, 34.78883749667923],
            [113.69780424995034, 34.788873777691165],
            [113.6985785189545, 34.78899672890589],
            [113.6997451519793, 34.788823132427865],
            [113.70006165252282, 34.78885915552579],
            [113.70130929922571, 34.78882904340584],
            [113.70234037563571, 34.78895164133038],
            [113.70349036033858, 34.788909992580344],
            [113.70507888558495, 34.78880467560472],
            [113.70507205174025, 34.788792521149446],
            [113.70536731638218, 34.78869717320916],
            [113.7064131709285, 34.788770037135215],
            [113.70761494921828, 34.78885829364901],
            [113.7089419342161, 34.788996371447425],
            [113.71012593733548, 34.78883518070844],
            [113.71024929945632, 34.78807356713734],
            [113.71017761511712, 34.78758156040935],
            [113.71022580447186, 34.787051477418196],
            [113.71035253333075, 34.78623795852158],
            [113.71040560647543, 34.78551224138505],
            [113.71021933880051, 34.78490711061253],
            [113.71012029346853, 34.78460382542553],
            [113.71022928032276, 34.784233728313005],
            [113.71030173380205, 34.78340450693711],
            [113.71021042697147, 34.78253517123482],
            [113.71017091439603, 34.7822463010599],
            [113.7102354122927, 34.78212764989277],
            [113.71051911462902, 34.78214667552869],
            [113.71091261140101, 34.782193979167474],
            [113.71102519597335, 34.78220855215943],
        ]

        function initMap() {
            map = new BMap.Map('allmap');
            let [lng, lat] = points[0];
            var point = new BMap.Point(lng, lat);
            map.centerAndZoom(point, 15);
            map.enableScrollWheelZoom(true);
        }

        function addPoint(lng, lat) {
            return new BMap.Point(lng, lat);
        }

        function drawLine(points) {
            var line = new BMap.Polyline(points, { strokeColor: 'red', strokeWeight: 2, strokeOpacity: 0.8 });
            map.addOverlay(line);
            return line;
        }

        function addMarker(point) {
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
            return marker;
        }

        initMap()

        let pts = [];
        for (let i in newpoints) {
            let [lng, lat] = newpoints[i];
            let pt = addPoint(lng, lat);
            pts.push(pt);
            addMarker(pt);
        }
        drawLine(pts)
    </script>
</body>

</html>